import{q as F,o as e,a as h,v as $,x as H,w as B}from"./chunk-NL6KNZEE-7k8Z-Yvn.js";import{B as o,c as p}from"./button-B8Hphn8C.js";import{A as U,D as K}from"./download-LLX43AeF.js";import{C as m}from"./users-CFgAQXSg.js";import{P as w}from"./plus-BbEuOfBL.js";import{C as u}from"./log-out-O7SLY1RU.js";import{c as N}from"./createLucideIcon-CHxtwjSd.js";import{L as f}from"./lock-BnfW_V77.js";import{F as C}from"./file-text-8ei41ks0.js";import{P as q,S as O,C as G,D as I}from"./dashboard.layout-C6dVGKap.js";import{f as z}from"./fpe.service-BvDmF3Nd.js";import{p as V}from"./pkrf.service-BfYdIEl3.js";import{H as W}from"./heart-CTIXcwFG.js";import{a as P}from"./api.client-ze5lrY9D.js";import{U as Q}from"./user-Bqi987qQ.js";import"./index-CcPD8SMB.js";import"./chevron-down-mo8rH555.js";/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Y=N("circle-alert",X);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],D=N("circle-check",Z);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],E=N("circle-x",J);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],se=N("file-up",ee);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ae=N("map-pin",te);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],y=N("pen",ie);/**
 * @license lucide-react v0.515.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],M=N("printer",le);function ce({title:a}){const i=F();return e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 py-4 border-b",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs(o,{variant:"ghost",className:"flex items-center gap-2 text-muted-foreground hover:text-primary",onClick:()=>i("/~/members"),"aria-label":"Go back to members",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Back to Members"})]})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-foreground",children:a})]})}function ne({tabs:a,activeTab:i,onTabChange:r}){return e.jsx("div",{className:"border-b overflow-x-auto",children:e.jsx("nav",{className:"flex space-x-4 sm:space-x-8",role:"tablist","aria-label":"Member Profile Tabs",children:a.map(t=>{const n=i===t.id;return e.jsxs("button",{onClick:()=>r(t.id),role:"tab","aria-selected":n,"aria-current":n?"page":void 0,className:p("flex flex-col items-center border-b-2 py-3 px-2 text-sm font-medium focus:outline-none",n?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"),children:[t.icon&&e.jsx("div",{className:"text-xl",children:t.icon}),e.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.id)})})})}function re({appointments:a}){var s;const[i,r]=h.useState(((s=a.find(c=>c.status==="scheduled"))==null?void 0:s.id)||null),t=a.find(c=>c.id===i),n=c=>{switch(c){case"scheduled":return"bg-blue-100 text-blue-700";case"completed":return"bg-green-100 text-green-700";case"cancelled":return"bg-red-100 text-red-700";case"no-show":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},d=c=>{switch(c){case"scheduled":return e.jsx(Y,{className:"h-4 w-4"});case"completed":return e.jsx(D,{className:"h-4 w-4"});case"cancelled":return e.jsx(E,{className:"h-4 w-4"});case"no-show":return e.jsx(E,{className:"h-4 w-4"});default:return null}};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Appointments"}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"New Appointment"]})]}),e.jsx("div",{className:"space-y-2",children:a.map(c=>e.jsxs("button",{onClick:()=>r(c.id),className:p("w-full text-left p-3 rounded-lg transition-colors","hover:bg-gray-50",i===c.id?"bg-blue-50":""),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:c.date})]}),e.jsxs("span",{className:p("text-xs px-2 py-1 rounded-full flex items-center gap-1",n(c.status)),children:[d(c.status),c.status.charAt(0).toUpperCase()+c.status.slice(1)]})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:c.doctor}),e.jsx("p",{className:"text-xs text-gray-500",children:c.type})]})]},c.id))})]}),e.jsx(m,{className:"p-6 md:col-span-2",children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.type}),e.jsx("p",{className:"text-sm text-gray-500",children:t.date})]}),t.status==="scheduled"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"Mark Complete"]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2 text-red-600",children:[e.jsx(E,{className:"h-4 w-4"}),"Cancel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Doctor"}),e.jsx("p",{className:"font-medium",children:t.doctor})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Department"}),e.jsx("p",{className:"font-medium",children:t.department})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Time"}),e.jsx("p",{className:"font-medium",children:t.time})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium",children:t.status})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ae,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Location"}),e.jsx("p",{className:"font-medium",children:t.location})]})]}),t.reason&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Reason for Visit"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.reason})]}),t.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.notes})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(u,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No appointments found."})]})})]})}function de({records:a}){var d;const[i,r]=h.useState(((d=a.find(s=>s.isLatest))==null?void 0:d.id)||null),t=a.find(s=>s.id===i),n=()=>{t&&window.print()};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"E-KAS Records"}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"New Record"]})]}),e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsxs("button",{onClick:()=>r(s.id),className:p("w-full text-left p-3 rounded-lg transition-colors","hover:bg-gray-50",i===s.id?"bg-blue-50":""),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:s.date})]}),s.isLatest?e.jsx(y,{className:"h-4 w-4 text-blue-500"}):e.jsx(f,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.doctor}),e.jsx("p",{className:"text-xs text-gray-500",children:s.hospital}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Case No: ",s.caseNo]})]})]},s.id))})]}),e.jsx(m,{className:"p-6 md:col-span-2",children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"E-KAS Record"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.isLatest?e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Edit Record"]}):e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"View Only"]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:n,children:[e.jsx(M,{className:"h-4 w-4"}),"Print"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Doctor"}),e.jsx("p",{className:"font-medium",children:t.doctor})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Hospital"}),e.jsx("p",{className:"font-medium",children:t.hospital})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Case No"}),e.jsx("p",{className:"font-medium",children:t.caseNo})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium",children:t.status})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Services"}),e.jsx("div",{className:"space-y-2",children:t.services.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Quantity: ",s.quantity]})]}),e.jsxs("p",{className:"text-sm font-medium",children:["$",s.price.toFixed(2)]})]},s.id))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Amount"}),e.jsxs("p",{className:"text-lg font-semibold",children:["$",t.totalAmount.toFixed(2)]})]})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No E-KAS records found."})]})})]})}function oe({records:a}){var d;const[i,r]=h.useState(((d=a.find(s=>s.isLatest))==null?void 0:d.id)||null),t=a.find(s=>s.id===i),n=()=>{t&&window.print()};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"E-PRESS Records"}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"New Record"]})]}),e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsxs("button",{onClick:()=>r(s.id),className:p("w-full text-left p-3 rounded-lg transition-colors","hover:bg-gray-50",i===s.id?"bg-blue-50":""),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:s.date})]}),s.isLatest?e.jsx(y,{className:"h-4 w-4 text-blue-500"}):e.jsx(f,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.doctor}),e.jsx("p",{className:"text-xs text-gray-500",children:s.hospital}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Case No: ",s.caseNo]})]})]},s.id))})]}),e.jsx(m,{className:"p-6 md:col-span-2",children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"E-PRESS Record"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.isLatest?e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Edit Record"]}):e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"View Only"]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:n,children:[e.jsx(M,{className:"h-4 w-4"}),"Print"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Doctor"}),e.jsx("p",{className:"font-medium",children:t.doctor})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Hospital"}),e.jsx("p",{className:"font-medium",children:t.hospital})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Case No"}),e.jsx("p",{className:"font-medium",children:t.caseNo})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium",children:t.status})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Diagnosis"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.diagnosis})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Medications"}),e.jsx("div",{className:"space-y-2",children:t.medications.map(s=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded",children:[e.jsx(q,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.type})]}),e.jsxs("div",{className:"mt-1 space-y-1",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["Dosage: ",s.dosage," | Frequency:"," ",s.frequency]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Duration: ",s.duration," | Quantity:"," ",s.quantity]}),e.jsx("p",{className:"text-xs text-gray-600",children:s.instructions})]})]})]},s.id))})]}),t.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.notes})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No E-PRESS records found."})]})})]})}function me({records:a}){var d;const[i,r]=h.useState(((d=a.find(s=>s.isLatest))==null?void 0:d.id)||null),t=a.find(s=>s.id===i),n=()=>{t&&window.print()};return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Health Check-up Records"}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"New Record"]})]}),e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsxs("button",{onClick:()=>r(s.id),className:p("w-full text-left p-3 rounded-lg transition-colors","hover:bg-gray-50",i===s.id?"bg-blue-50":""),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:s.date})]}),s.isLatest?e.jsx(y,{className:"h-4 w-4 text-blue-500"}):e.jsx(f,{className:"h-4 w-4 text-gray-400"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.doctor}),e.jsx("p",{className:"text-xs text-gray-500",children:s.hospital})]})]},s.id))})]}),e.jsx(m,{className:"p-6 md:col-span-2",children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Health Check-up Record"}),e.jsx("p",{className:"text-sm text-gray-500",children:t.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.isLatest?e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Edit Record"]}):e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-2",children:[e.jsx(f,{className:"h-4 w-4"}),"View Only"]}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:n,children:[e.jsx(M,{className:"h-4 w-4"}),"Print"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Doctor"}),e.jsx("p",{className:"font-medium",children:t.doctor})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Hospital"}),e.jsx("p",{className:"font-medium",children:t.hospital})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium",children:t.status})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Findings"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.findings})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Recommendations"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.recommendations})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No health check-up records found."})]})})]})}function xe({member:a}){var k,R,g,A;const i=(k=a.address)==null?void 0:k.find(l=>l.type==="current"),r=`${a.firstName} ${a.middleName||""} ${a.lastName} ${a.suffix||""}`.trim(),t=new URLSearchParams(window.location.search).get("pkrf"),n=()=>{const l=new Date,x=l.getFullYear(),j=String(l.getMonth()+1).padStart(2,"0"),v=String(l.getDate()).padStart(2,"0");return`${x}-${j}-${v}`},d=async()=>{try{const l=await V.exportPKRF(t);if(l&&l.data){const x=`PKRF_${r.replace(/\s+/g,"_")}_${n()}.docx`;c(l.data,x)}else console.error("Invalid response format")}catch(l){console.error("Error generating PKRF form:",l)}},s=async()=>{var l;try{const x=await z.exportFPE((l=a==null?void 0:a.fpe)==null?void 0:l.id);if(x&&x.data){const j=`FPE_${r.replace(/\s+/g,"_")}_${n()}.docx`;c(x.data,j)}else console.error("Invalid response format")}catch(x){console.error("Error generating FPE form:",x)}};function c(l,x){if(!l){console.error("No data provided");return}try{const j=l.split(",")[1]||l,v=atob(j),L=new Uint8Array(v.length);for(let S=0;S<v.length;S++)L[S]=v.charCodeAt(S);const _=new Blob([L],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),T=URL.createObjectURL(_),b=document.createElement("a");b.href=T,b.download=x,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(T)}catch(j){console.error("Error processing file data:",j)}}return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"p-6 rounded-2xl shadow-md bg-white",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("img",{src:a.photo||"https://via.placeholder.com/128",alt:r,className:"h-32 w-32 rounded-full object-cover ring-2 ring-primary"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 uppercase",children:r}),e.jsxs("p",{className:"text-sm text-gray-500",children:["PIN: ",a.philHealthIdNumber||"---"]})]})]}),e.jsxs("div",{className:"mt-8 space-y-6 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{children:"Blood Type"})]}),e.jsx("span",{className:"font-semibold",children:((A=(g=(R=a.fpe)==null?void 0:R.physicalExam)==null?void 0:g.bloodType)==null?void 0:A.replace("_"," ").toUpperCase())||"Not specified"})]}),e.jsxs("div",{className:" bg-white  w-full space-y-4 border-t  py-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Download This"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(o,{onClick:d,className:"bg-blue-600 text-white hover:bg-blue-700",children:"PKRK Form"}),e.jsx(o,{onClick:s,className:"bg-green-600 text-white hover:bg-green-700",children:"FPE Form"})]})]})]})]}),e.jsxs(m,{className:"p-6 md:col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Member Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:a.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Mobile Number"}),e.jsx("p",{className:"font-medium",children:a.mobileNumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Gender"}),e.jsx("p",{className:"font-medium",children:a.gender})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),e.jsx("p",{className:"font-medium",children:new Date(a.birthDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Civil Status"}),e.jsx("p",{className:"font-medium",children:a.civilStatus||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Citizenship"}),e.jsx("p",{className:"font-medium",children:a.citizenship||"N/A"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current Address"}),e.jsx("p",{className:"font-medium",children:i?`${i.barangay||""}, ${i.city||""}, ${i.province||""}, ${i.country||""}`:"Not specified"})]})]}),a.emergencyContact&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Emergency Contact"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),e.jsx("p",{className:"font-medium",children:a.emergencyContact.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Relationship"}),e.jsx("p",{className:"font-medium",children:a.emergencyContact.relationship})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-medium",children:a.emergencyContact.phone})]})]})]})]})]})}function he({results:a}){var n,d;const[i,r]=h.useState(((n=a.find(s=>s.status==="completed"))==null?void 0:n.id)||null),t=a.find(s=>s.id===i);return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Test Results"}),e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"New Test"]})]}),e.jsx("div",{className:"space-y-2",children:a.map(s=>e.jsxs("button",{onClick:()=>r(s.id),className:p("w-full text-left p-3 rounded-lg transition-colors","hover:bg-gray-50",i===s.id?"bg-blue-50":""),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:s.date})]}),e.jsx("span",{className:p("text-xs px-2 py-1 rounded-full",s.status==="completed"?"bg-green-100 text-green-700":s.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:s.testName}),e.jsx("p",{className:"text-xs text-gray-500",children:s.category})]})]},s.id))})]}),e.jsx(m,{className:"p-6 md:col-span-2",children:t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:t.testName}),e.jsx("p",{className:"text-sm text-gray-500",children:t.date})]}),e.jsx("div",{className:"flex items-center gap-2",children:(d=t.attachments)==null?void 0:d.map(s=>e.jsxs(o,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>window.open(s.url,"_blank"),children:[e.jsx(K,{className:"h-4 w-4"}),s.name]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Category"}),e.jsx("p",{className:"font-medium",children:t.category})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("p",{className:"font-medium",children:t.status})]})]}),t.status==="completed"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Result"}),e.jsx("p",{className:"font-medium",children:t.result})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Reference Range"}),e.jsx("p",{className:"font-medium",children:t.referenceRange})]}),t.unit&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Unit"}),e.jsx("p",{className:"font-medium",children:t.unit})]})]}),t.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.notes})]})]}),t.status==="pending"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(se,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Results are pending. Please check back later."})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(C,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No test results found."})]})})]})}const pe={getAll:a=>P.getAll("/person",a??{}),get:a=>P.get(`/person/${a}`),update:(a,i)=>P.put("/person",i),create:a=>P.post("/person",a)},je=[{id:1,date:"2024-03-15",doctor:"Dr. Sarah Wilson",hospital:"City General Hospital",status:"Completed",findings:"Patient is in good health. Blood pressure and heart rate are normal.",recommendations:"Continue regular exercise and maintain healthy diet.",isLatest:!0},{id:2,date:"2023-12-10",doctor:"Dr. Michael Brown",hospital:"Metro Medical Center",status:"Completed",findings:"Slight elevation in blood pressure. Recommended lifestyle changes.",recommendations:"Reduce salt intake and increase physical activity.",isLatest:!1}],ue=[{id:1,date:"2024-03-15",doctor:"Dr. Sarah Wilson",hospital:"City General Hospital",caseNo:"EKAS-2024-001",status:"Completed",services:[{id:1,name:"General Consultation",price:50,quantity:1},{id:2,name:"Blood Test",price:75,quantity:1},{id:3,name:"X-Ray",price:120,quantity:1}],totalAmount:245,isLatest:!0},{id:2,date:"2024-02-01",doctor:"Dr. Michael Brown",hospital:"Metro Medical Center",caseNo:"EKAS-2024-002",status:"Completed",services:[{id:1,name:"General Consultation",price:50,quantity:1},{id:4,name:"Prescription Medication",price:35,quantity:2}],totalAmount:120,isLatest:!1}],Ne=[{id:1,date:"2024-03-15",doctor:"Dr. Sarah Wilson",hospital:"City General Hospital",caseNo:"EPRESS-2024-001",status:"Active",diagnosis:"Hypertension (Stage 1)",medications:[{id:1,name:"Lisinopril",type:"Tablet",dosage:"10mg",frequency:"Once daily",duration:"30 days",instructions:"Take in the morning with food",quantity:30},{id:2,name:"Amlodipine",type:"Tablet",dosage:"5mg",frequency:"Once daily",duration:"30 days",instructions:"Take in the evening",quantity:30}],notes:"Patient to return for follow-up in 2 weeks. Monitor blood pressure daily.",isLatest:!0},{id:2,date:"2024-02-01",doctor:"Dr. Michael Brown",hospital:"Metro Medical Center",caseNo:"EPRESS-2024-002",status:"Completed",diagnosis:"Acute Bronchitis",medications:[{id:3,name:"Azithromycin",type:"Capsule",dosage:"500mg",frequency:"Once daily",duration:"3 days",instructions:"Take 1 hour before or 2 hours after meals",quantity:3},{id:4,name:"Albuterol",type:"Inhaler",dosage:"90mcg",frequency:"As needed",duration:"7 days",instructions:"Use 2 puffs every 4-6 hours as needed for shortness of breath",quantity:1}],notes:"Patient responded well to treatment. No further follow-up needed.",isLatest:!1}],ge=[{id:1,date:"2024-03-15",testName:"Complete Blood Count (CBC)",category:"Hematology",status:"completed",result:"Normal",referenceRange:"Within normal limits",unit:"N/A",notes:"All parameters are within normal range.",attachments:[{id:1,name:"CBC Report.pdf",type:"application/pdf",size:"245KB",url:"#"}]},{id:2,date:"2024-03-10",testName:"Lipid Panel",category:"Chemistry",status:"completed",result:"Borderline High",referenceRange:"Desirable: <200 mg/dL",unit:"mg/dL",notes:"Slightly elevated cholesterol levels. Consider lifestyle modifications.",attachments:[{id:1,name:"Lipid Panel Report.pdf",type:"application/pdf",size:"180KB",url:"#"}]},{id:3,date:"2024-03-20",testName:"Thyroid Function Test",category:"Endocrinology",status:"pending",notes:"Results will be available in 2-3 business days."}],fe=[{id:1,date:"2024-03-25",time:"09:00 AM",doctor:"Dr. Sarah Wilson",department:"Cardiology",location:"Main Hospital, Room 302",type:"follow-up",status:"scheduled",reason:"Follow-up for hypertension management",notes:"Please bring your blood pressure log."},{id:2,date:"2024-03-15",time:"02:30 PM",doctor:"Dr. Michael Brown",department:"General Medicine",location:"Outpatient Clinic, Room 105",type:"consultation",status:"completed",reason:"Annual check-up",notes:"Patient reported no new symptoms. All vitals normal."},{id:3,date:"2024-03-10",time:"11:00 AM",doctor:"Dr. Emily Chen",department:"Dermatology",location:"Specialty Clinic, Room 401",type:"procedure",status:"cancelled",reason:"Skin lesion removal",notes:"Patient requested cancellation due to scheduling conflict."}],ye=[{id:"profile",label:"Profile",icon:e.jsx(Q,{})},{id:"health-checkup",label:"Health Check-Up",icon:e.jsx(O,{})},{id:"ekas",label:"E-KAS",icon:e.jsx(G,{})},{id:"epress",label:"E-PRESS",icon:e.jsx(q,{})},{id:"results",label:"Results",icon:e.jsx(C,{})},{id:"appointment",label:"Appointment",icon:e.jsx(u,{})}];function ve(){const{id:a}=$(),[i,r]=H(),t=i.get("tab")||"profile",[n,d]=h.useState(null),[s,c]=h.useState(null);if(F(),h.useEffect(()=>{const g=async()=>{try{const l=await pe.get(a);d(l)}catch(l){console.error("Error fetching members:",l)}};(async()=>{try{const l=await z.getAll({query:a,page:1,limit:10,sort:"createdAt",order:"desc",fields:""});c(l.fpes[0])}catch(l){console.error("Error fetching members:",l)}})(),g()},[]),!n)return e.jsx("div",{className:"p-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-red-600",children:"Member not found"})});const k=g=>{r({tab:g})},R=()=>{switch(t){case"profile":return e.jsx(xe,{member:{...n,fpe:{...s}}});case"health-checkup":return e.jsx(me,{records:je});case"ekas":return e.jsx(de,{records:ue});case"epress":return e.jsx(oe,{records:Ne});case"results":return e.jsx(he,{results:ge});case"appointment":return e.jsx(re,{appointments:fe});default:return null}};return e.jsxs("div",{className:"space-y-6 w-full",children:[e.jsx(ce,{title:"Member Profile"}),e.jsx(ne,{tabs:ye,activeTab:t,onTabChange:k}),R()]})}const $e=()=>[{title:"FTCC | About"},{name:"description",content:"About Filipino Trusted Care Company (FTCC)."}],He=B(function(){return e.jsx("div",{className:"",children:e.jsx(I,{children:e.jsx(ve,{})})})});export{He as default,$e as meta};
