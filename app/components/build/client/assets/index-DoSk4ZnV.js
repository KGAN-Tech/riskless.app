import{a as i,o as A,z as M}from"./chunk-NL6KNZEE-7k8Z-Yvn.js";import{a as x}from"./index-BXveNCNt.js";import{a as C,u as E}from"./button-B8Hphn8C.js";function j(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function F(e,t=[]){let n=[];function r(c,u){const s=i.createContext(u),a=n.length;n=[...n,u];const f=m=>{var w;const{scope:d,children:p,...N}=m,v=((w=d==null?void 0:d[e])==null?void 0:w[a])||s,P=i.useMemo(()=>N,Object.values(N));return A.jsx(v.Provider,{value:P,children:p})};f.displayName=c+"Provider";function l(m,d){var v;const p=((v=d==null?void 0:d[e])==null?void 0:v[a])||s,N=i.useContext(p);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${m}\` must be used within \`${c}\``)}return[f,l]}const o=()=>{const c=n.map(u=>i.createContext(u));return function(s){const a=(s==null?void 0:s[e])||c;return i.useMemo(()=>({[`__scope${e}`]:{...s,[e]:a}}),[s,a])}};return o.scopeName=e,[r,O(o,...t)]}function O(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=r.reduce((s,{useScope:a,scopeName:f})=>{const m=a(c)[`__scope${f}`];return{...s,...m}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}var h=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},R=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W=R.reduce((e,t)=>{const n=C(`Primitive.${t}`),r=i.forwardRef((o,c)=>{const{asChild:u,...s}=o,a=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(a,{...s,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function k(e,t){e&&x.flushSync(()=>e.dispatchEvent(t))}var g=M[" useInsertionEffect ".trim().toString()]||h;function z({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,c,u]=y({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:o;{const l=i.useRef(e!==void 0);i.useEffect(()=>{const m=l.current;m!==s&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=s},[s,r])}const f=i.useCallback(l=>{var m;if(s){const d=T(l)?l(e):l;d!==e&&((m=u.current)==null||m.call(u,d))}else c(l)},[s,e,c,u]);return[a,f]}function y({defaultProp:e,onChange:t}){const[n,r]=i.useState(e),o=i.useRef(n),c=i.useRef(t);return g(()=>{c.current=t},[t]),i.useEffect(()=>{var u;o.current!==n&&((u=c.current)==null||u.call(c,n),o.current=n)},[n,o]),[n,r,c]}function T(e){return typeof e=="function"}function b(e,t){return i.useReducer((n,r)=>t[n][r]??n,e)}var I=e=>{const{present:t,children:n}=e,r=U(t),o=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),c=E(r.ref,_(o));return typeof n=="function"||r.isPresent?i.cloneElement(o,{ref:c}):null};I.displayName="Presence";function U(e){const[t,n]=i.useState(),r=i.useRef(null),o=i.useRef(e),c=i.useRef("none"),u=e?"mounted":"unmounted",[s,a]=b(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const f=S(r.current);c.current=s==="mounted"?f:"none"},[s]),h(()=>{const f=r.current,l=o.current;if(l!==e){const d=c.current,p=S(f);e?a("MOUNT"):p==="none"||(f==null?void 0:f.display)==="none"?a("UNMOUNT"):a(l&&d!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,a]),h(()=>{if(t){let f;const l=t.ownerDocument.defaultView??window,m=p=>{const v=S(r.current).includes(p.animationName);if(p.target===t&&v&&(a("ANIMATION_END"),!o.current)){const P=t.style.animationFillMode;t.style.animationFillMode="forwards",f=l.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=P)})}},d=p=>{p.target===t&&(c.current=S(r.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{l.clearTimeout(f),t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:i.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function S(e){return(e==null?void 0:e.animationName)||"none"}function _(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}export{W as P,j as a,I as b,F as c,h as d,k as e,z as u};
